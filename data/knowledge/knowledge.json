[{"id": "identity_0", "conversation": [{"from": "user", "value": "\u5982\u4f55\u63a7\u5236Di-Logger\u5185\u5b58\u4f7f\u7528\u3002"}, {"from": "assistant", "value": "Di-Logger\u5b89\u88c5\u76ee\u5f55\u4e0bapp.js\u4e2d\u4fee\u6539\u53c2\u6570\u914d\u7f6e: \"executeEnv\": \"-Dserver.port=7082 -Xms1024m -Xmx1024m\"\u3002  \u4ee5\u4e0a\u4e3aDi-Logger\u9ed8\u8ba4\u914d\u7f6e,\u82e5\u90e8\u7f72\u73af\u5883\u9ad8\u4e8e16G\u53ef\u4ee5\u5c061024\u914d\u7f6e\u4e3a\u66f4\u9ad8\u53c2\u6570\u503c,\u59822048\u3002"}]}, {"id": "identity_1", "conversation": [{"from": "user", "value": "\u5347\u7ea7\u540e\u767b\u5f55Di-Logger\u4f1a\u663e\u793a\u7a7a\u767d\u9875\u9762\u3002"}, {"from": "assistant", "value": "\u4e00\u822c\u7531\u4e8eDi-Logger\u542f\u52a8\u5931\u8d25\u5f15\u8d77\u3002\u53ef\u4ee5\u9996\u5148\u6392\u67e5\u662f\u5426\u56e0root\u6743\u9650\u542f\u52a8\u5bfc\u81f4,\u64cd\u4f5c\u5982\u4e0b:  \u5728Di-Logger\u5b89\u88c5\u8def\u5f84\u4e0b\u67e5\u770b\u6743\u9650:    \u82e5root\u6743\u9650\u6267\u884cchown -R arcana:arcana /arcana/share/tomcat/webapps/Di-Logger/\u3002  \u82e5\u975e\u6743\u9650\u95ee\u9898,\u8bf7\u8054\u7cfb\u6280\u672f\u652f\u6301\u4eba\u5458\u3002"}]}, {"id": "identity_2", "conversation": [{"from": "user", "value": "\u6570\u636e\u6536\u96c6\u53ea\u8fdb\u5165Edge,\u4f46\u672a\u8fdb\u5165ARCANA\u5e73\u53f0,\u65e0\u6cd5\u8fdb\u884c\u641c\u7d22\u3002"}, {"from": "assistant", "value": "\u5f53ARCANA\u5206\u6790\u8282\u70b9\u548cEdge\u8282\u70b9\u90e8\u7f72\u5728\u4e0d\u540c\u670d\u52a1\u5668\u4e0a,\u9700\u8981\u8fdb\u5165/opt/arcana/conf\u4fee\u6539\u4e24\u4e2a\u6587\u4ef6\u7684\u914d\u7f6e:  server.properties  kafkaServer = ip:9092  kafka.properties  advertised.listeners=PLAINTEXT://ip:9092  ip,\u4e3aarcana\u5206\u6790\u8282\u70b9\u7684IP\u5730\u5740\u3002"}]}, {"id": "identity_3", "conversation": [{"from": "user", "value": "\u600e\u4e48\u5b9e\u73b0\u79d2\u7ea7\u7684\u6536\u6570?"}, {"from": "assistant", "value": "\u9700\u8981\u624b\u52a8\u66f4\u6539\u540e\u7aef\u7684logstashID.conf\u914d\u7f6e  \u7f16\u8f91$ARCANA_HOME/etc/logstash/logstashID.conf(617fa6e87afb8e2f68f6c07a.conf)\u6587\u4ef6\u4e2d\u7684schedule\u53c2\u6570:  schedule = \"*/15 * * * * *\"  # \u6bcf15\u79d2\u6536\u4e00\u6b21\u6570\u636e"}]}, {"id": "identity_4", "conversation": [{"from": "user", "value": "Logstash\u6570\u636e\u5982\u4f55\u8f6c\u53d1\u5230\u5916\u90e8UDP/TCP\u7aef\u53e3?"}, {"from": "assistant", "value": "\u66f4\u6539\u914d\u7f6e\u6587\u4ef6/opt/arcana-edge/etc/logstash/\u4e0b\u7684\u4e24\u4e2a\u914d\u7f6e\u6587\u4ef6kafka.conf\u548coutput.conf\u3002\nkafka.conf\n input{\n      kafka{\n        bootstrap_servers => [\"localhost:9093\"]\n        group_id => \"arcana\"\n        client_id => \"test\"\n        auto_offset_reset => \"latest\"\n        consumer_threads => 1\n        decorate_events => false\n        topics=>[\"input-topic-60bdefb52abc8d09ab1fe458\"]\n      }\n }\n filter{\n   mutate{\n    rename => {\"@timestamp\" => \"timestamp\"}\n    remove_field => [\"@version\"]\n    add_field => { \"processor\" => \"LogstashJSON\"}\n    add_field => { \"source\" => \"java\"}\n    add_field => { \"index\" => \"tcp\"}\n   }\n }\n output {\n      kafka {\n        bootstrap_servers => \"localhost:9092\"\n        codec => \"json\"\n        topic_id => \"forward-topic\"\n      }\n\n    stdout{\n        codec => rubydebug\n    }\n }\noutput.conf\n input{\n      kafka{\n        bootstrap_servers => [\"localhost:9093\"]\n        group_id => \"arcana\"\n        client_id => \"test\"\n        auto_offset_reset => \"latest\"\n        consumer_threads => 1\n        decorate_events => false\n        topics=>[\"input-topic-60bdefb52abc8d09ab1fe458\"]\n      }\n }\n filter{\n   mutate{\n    rename => {\"@timestamp\" => \"timestamp\"}\n    remove_field => [\"@version\"]\n    add_field => { \"processor\" => \"LogstashJSON\"}\n    add_field => { \"source\" => \"java\"}\n    add_field => { \"index\" => \"tcp\"}\n  }\n }\n output {\n      kafka {\n        bootstrap_servers => \"localhost:9092\"\n        codec => \"json\"\n        topic_id => \"forward-topic\"\n      }\n\nstdout{\n        codec => rubydebug\n    }\n}  "}]}, {"id": "identity_5", "conversation": [{"from": "user", "value": "Filebeat\u5982\u4f55\u914d\u7f6eudp/tcp\u8f6c\u53d1\u5230edge?"}, {"from": "assistant", "value": "/opt/filebeat-7.11.2-linux-x86_64/filebeat.yml\nfilebeat.inputs:\n - type: log\n   enabled: true\n   encoding: utf-8\n   #tags: [\"log\"]\n   exclude_files: ['.gz$']\n   paths:\n     - /opt/ftp_files/ali_file/*/*.log\n     - /opt/ftp_files/huawei/yun_cloud/logs/broker*.log*\n\n output.logstash:\n   # The Logstash hosts\n   hosts: [\"localhost:5044\"]\n\n \u542f\u52a8\n ./filebeat -e -c filebeat.yml -d \"publish\"\n \u6216nohup ./bin/filebeat -f config/test.conf >>/FILEBEAT_HOME/logs/filebeat.log &"}]}, {"id": "identity_6", "conversation": [{"from": "user", "value": "\u5982\u4f55\u914d\u7f6e\u81ea\u5b9a\u4e49\u83dc\u5355\u3002"}, {"from": "assistant", "value": "\u8bf7\u89c1\u300a\u7528\u6237\u624b\u518c\u300b\u9644\u5f55\u3002"}]}, {"id": "identity_7", "conversation": [{"from": "user", "value": "\u81ea\u5b9a\u4e49\u83dc\u5355\u914d\u7f6e\u540e,\u70b9\u51fb\u83dc\u5355,\u51fa\u73b0\u767b\u5f55\u9875\u9762\u3002"}, {"from": "assistant", "value": "\u767b\u5f55\u4f7f\u7528\u7684\u662f\u57df\u540d,\u4f46menuConfig.js\u4e2d\u7684URL\u914d\u7f6e\u7684\u662fIP,\u6216\u8005\u767b\u5f55\u4f7f\u7528\u7684\u662fIP,\u4f46URL\u914d\u7f6e\u7684\u662f\u57df\u540d\u5bfc\u81f4\u7684\u3002\u5efa\u8bae\u81ea\u5b9a\u4e49\u83dc\u5355\u914d\u7f6eURL\u4e0d\u7528\u52a0\u4e0aIP\u6216\u57df\u540d,\u76f4\u63a5\u914d\u7f6e\u6210\u201c/dashboard/manage/preview/xxxxxx\u201d"}]}, {"id": "identity_8", "conversation": [{"from": "user", "value": "\u6309\u6b65\u9aa4\u914d\u7f6e\u81ea\u5b9a\u4e49\u83dc\u5355,reload Di-Logger\u540e,\u81ea\u5b9a\u4e49\u83dc\u5355\u672a\u663e\u793a\u3002"}, {"from": "assistant", "value": "\u9996\u5148\u68c0\u67e5\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u6b63\u786e,\u901a\u5e38\u9047\u5230\u7684\u9519\u8bef\u6709:  \u9017\u53f7\u8f93\u5165\u6cd5;  permission\u9519\u8bef,\u82e5\u81ea\u5b9a\u4e49\u83dc\u5355\u65e0\u9700\u6743\u9650\u7ba1\u63a7,\u9ed8\u8ba4\u4e3ano_need_authority;  \u4e00\u7ea7\u83dc\u5355title\u8bbe\u7f6e\u4e3a\u975e\u7cfb\u7edf\u81ea\u5e26\u83dc\u5355\u540d\u79f0;  \u82e5\u4ee5\u4e0a\u90fd\u68c0\u67e5\u65e0\u8bef,\u53ef\u6e05\u7a7a\u6d4f\u89c8\u5668\u7f13\u5b58,\u518d\u767b\u5f55\u67e5\u770b\u3002"}]}, {"id": "identity_9", "conversation": [{"from": "user", "value": "\u82e5\u540c\u4e00\u4e2a\u4e00\u7ea7\u83dc\u5355\u4e0b\u914d\u7f6e\u591a\u4e2a\u81ea\u5b9a\u4e49\u83dc\u5355,\u70b9\u51fb\u5207\u6362,\u65e0\u6cd5\u6b63\u5e38\u5207\u6362\u3002"}, {"from": "assistant", "value": "menuConfig.js\u4e2d\u7684name\u9700\u8981\u8bbe\u7f6e\u4e0d\u540c\u3002  "}]}, {"id": "identity_10", "conversation": [{"from": "user", "value": "\u82e5\u5c06\u7528\u6237\u7ec4\u67d0\u4e00\u7ea7\u83dc\u5355\u4e0b\u7684\u4e8c\u7ea7\u83dc\u5355\u90fd\u9690\u85cf,\u8be5\u4e00\u7ea7\u83dc\u5355\u4e5f\u4f1a\u9690\u85cf,\u5bfc\u81f4\u4e00\u7ea7\u83dc\u5355\u4e0b\u7684\u81ea\u5b9a\u4e49\u83dc\u5355\u4e5f\u65e0\u6cd5\u663e\u793a\u3002"}, {"from": "assistant", "value": "\u9ed8\u8ba4\u81ea\u5b9a\u4e49\u83dc\u5355\u4e0d\u53d7\u7528\u6237\u7ec4\u6743\u9650\u7ba1\u63a7,\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u589e\u52a0\u81ea\u5b9a\u4e49\u83dc\u5355\u53d7\u7528\u6237\u7ec4\u6743\u9650\u7ba1\u63a7\u3002\u4ee5\u4e0b\u4ee5\u4e13\u9879\u4e3b\u9898\u4e0b\u589e\u52a0\u4e24\u4e2a\u81ea\u5b9a\u4e49\u83dc\u5355\u4e3a\u4f8b,\u914d\u7f6e\u6b65\u9aa4\u5982\u4e0b:  \u914d\u7f6emenuConfig.js\u6587\u4ef6,\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u4e8c\u7ea7\u83dc\u5355\u3002    \u914d\u7f6eapp.js\u6587\u4ef6\u3002\u914d\u7f6e\u81ea\u5b9a\u4e49\u83dc\u5355\u53d7\u7528\u6237\u7ec4\u7ba1\u63a7\u3002\u9700\u8981\u6ce8\u610fapp.js\u4e2d\u7684name\u4e0emenuConfig.js\u4e2d\u7684title\u4e00\u81f4,app.js\u4e2d\u7684value\u4e0emenuConfig.js\u4e2d\u7684permission\u4e00\u81f4\u3002app.js\u4e2d\u7684name\u548cvalue\u8bf7\u4fdd\u8bc1\u552f\u4e00\u6027    \u8fdb\u5165/arcana/bin\u8def\u5f84,\u6267\u884c./arcana restart\u91cd\u542farcana\u3002  \u901a\u8fc7\u7528\u6237\u7ec4\u6743\u9650\u63a7\u5236\u81ea\u5b9a\u4e49\u83dc\u5355\u5c55\u793a\u3002"}]}, {"id": "identity_11", "conversation": [{"from": "user", "value": "\u70b9\u51fb\u81ea\u5b9a\u4e49\u83dc\u5355\u540e,\u83dc\u5355\u6807\u9898\u51fa\u73b0\u201cmenus.\u201d\u7684\u524d\u7f00\u3002"}, {"from": "assistant", "value": "\u6b64\u95ee\u9898\u662f\u56e0\u4e3a\u4e2d\u82f1\u6587\u7ffb\u8bd1\u5bfc\u81f4,\u9700\u8981\u5728/arcana/share/tomcat/webapps/Di-Logger/menusLanguage.js\u914d\u7f6e\u4e2d\u82f1\u6587\u83dc\u5355\u540d\u79f0\u3002  "}]}, {"id": "identity_12", "conversation": [{"from": "user", "value": "\u914d\u7f6e\u67d0dashboard\u4f5c\u4e3a\u81ea\u5b9a\u4e49\u4e8c\u7ea7\u83dc\u5355\u540e,\u70b9\u51fb\u81ea\u5b9a\u4e49\u83dc\u5355\u540e,\u63d0\u793a\u201cError 404\u201d\u3002"}, {"from": "assistant", "value": "Di-Logger V3.0.2209\u53ca\u4ee5\u4e0a\u7248\u672c\u914d\u7f6e\u81ea\u5b9a\u4e49\u83dc\u5355,\u5176menuConfig.js\u4e2d\u7684URL\u914d\u7f6e\u9700\u8981\u52a0\u4e0a\u201c/Di-Logger/#/\u201d\u524d\u7f00,\u4f8b\u5982\u201c/Di-Logger/#/dashboard/manage/preview/test?hideMenu=true\u201d\u3002"}]}, {"id": "identity_13", "conversation": [{"from": "user", "value": "\u7528\u6237\u767b\u5f55\u540e\u5982\u4f55\u76f4\u63a5\u8fdb\u5165Di-Logger\u9996\u9875\u3002"}, {"from": "assistant", "value": "\u5728\u8bbe\u7f6e>\u7528\u6237\u9875\u9762,\u65b0\u5efa\u7528\u6237\u6216\u8005\u7f16\u8f91\u8be5\u7528\u6237\u65f6,\u914d\u7f6e\u6240\u5c5eAPP\u4e3aDi-Logger\u5373\u53ef\u3002  "}]}, {"id": "identity_14", "conversation": [{"from": "user", "value": "\u4e3a\u4ec0\u4e48\u767b\u5f55\u9875\u9762\u6709\u65f6\u662f\u82f1\u6587\u6709\u65f6\u662f\u4e2d\u6587\u3002"}, {"from": "assistant", "value": "\u9ed8\u8ba4\u9996\u9875\u767b\u5f55\u662f\u4e2d\u6587\u3002\u5f53\u767b\u5f55\u6210\u529f\u540e,\u5728\u9875\u9762\u4e0a\u5207\u6362\u4e3a\u82f1\u6587,\u9000\u51fa\u767b\u5f55\u540e,\u767b\u5f55\u9875\u9762\u4f1a\u663e\u793a\u82f1\u6587\u3002\u82e5\u6e05\u7a7a\u4e86\u6d4f\u89c8\u5668\u7f13\u5b58\u5219\u767b\u5f55\u9875\u9762\u4f1a\u6062\u590d\u6210\u4e2d\u6587\u3002"}]}, {"id": "identity_15", "conversation": [{"from": "user", "value": "\u914d\u7f6eDi-Logger\u6743\u9650\u540e,\u63d0\u793a\u201cError 401,\u5bf9\u4e0d\u8d77~\u4f60\u6ca1\u6709\u6743\u9650\u8bbf\u95ee\u8be5\u9875\u9762,\u4f60\u53ef\u4ee5\u70b9\u51fb\u6309\u94ae\u8fd4\u56de\u9996\u9875\u201d\u3002"}, {"from": "assistant", "value": "\u5728\u914d\u7f6eDi-Logger\u7684\u6743\u9650\u65f6,Di-Logger V2.0\u7248\u672c\u548cDi-Logger V 2.1\u7248\u672c\u7684\u9996\u9875\u6743\u9650\u5fc5\u987b\u52fe\u9009\u3002"}]}, {"id": "identity_16", "conversation": [{"from": "user", "value": "\u82e5\u7ec4\u4ef6\u81ea\u76d1\u63a7\u6216\u670d\u52a1\u5668\u81ea\u76d1\u63a7\u51fa\u73b0\u9762\u677f\u63d0\u793a\u201c\u67e5\u8be2\u9519\u8bef!\u201d\u3002"}, {"from": "assistant", "value": "\u5728\u540e\u53f0\u4efb\u610f\u8def\u5f84\u4e0b\u8f93\u5165pidstat,\u82e5\u63d0\u793a\u5982\u4e0b\u64cd\u4f5c2)\u3002    \u8f93\u5165\u547d\u4ee4yum install sysstat,\u5728\u63d0\u793a\u201cIs this ok [y/d/N]:\u201d,\u8f93\u5165y\u5373\u53ef\u3002  "}]}, {"id": "identity_17", "conversation": [{"from": "user", "value": "\u5728\u641c\u7d22\u9875\u9762\u67e5\u8be2SPL,\u6709\u65f6\u80fd\u51fa\u6765\u7ed3\u679c,\u4f46\u5927\u90e8\u5206\u65f6\u5019\u51fa\u4e0d\u6765\u7ed3\u679c\u3002\u7ecf\u6392\u67e5,\u641c\u7d22\u7684SPL\u5728var/jobs\u4e0b\u6709\u4ea7\u751f\u7ed3\u679c,\u4f46websocket\u53bb\u67e5\u8be2\u7ed3\u679c\u4f1a\u62a5404\u3002"}, {"from": "assistant", "value": "\u4fee\u6539etc/hosts\u914d\u7f6e,\u6dfb\u52a0127.0.0.1 arcana    "}]}, {"id": "identity_18", "conversation": [{"from": "user", "value": "V3.0.2212\u7248\u672c\u5982\u4f55\u8bbe\u7f6e_time\u65f6\u95f4\u7cbe\u786e\u5230\u6beb\u79d2\u7ea7\u3002"}, {"from": "assistant", "value": "\u8fdb\u5165/arcana/share/tomcat/webapps/Di-Logger\u4e2d\u4fee\u6539config.js\u4e2d\u7684\u53c2\u6570searchMillisecond:    searchMillisecond:false,_time\u7cbe\u786e\u5230\u79d2  searchMillisecond:true,_time\u7cbe\u786e\u5230\u6beb\u79d2\u79d2  "}]}, {"id": "identity_19", "conversation": [{"from": "user", "value": "\u5982\u4f55\u9690\u85cf\u4eea\u8868\u677f\u7684\u5de5\u5177\u680f?"}, {"from": "assistant", "value": "1)\u70b9\u51fb\u6307\u5b9adashboard\u6240\u5728\u884c\u7684\u7f16\u8f91\u6309\u94ae,\u70b9\u51fb\u201c\u6587\u672c\u7f16\u8f91\u65b9\u5f0f\u201d\u3002\u5728\u6700\u540e\u4e00\u4e2a\u201c}\u201d\u524d\u6dfb\u52a0\u4e0b\u9762\u7ea2\u6846\u4e2d\u7684\u5185\u5bb9:    \u7f16\u8f91\u5b8c\u6210\u540e,\u70b9\u51fb\u201c\u4fdd\u5b58\u201d\u3002  "}]}, {"id": "identity_20", "conversation": [{"from": "user", "value": "\u5982\u4f55\u590d\u5236\u4eea\u8868\u677f\u914d\u7f6e?"}, {"from": "assistant", "value": "1)\u70b9\u51fb\u6307\u5b9adashboard\u6240\u5728\u884c\u7684\u7f16\u8f91\u6309\u94ae,\u70b9\u51fb\u201c\u6587\u672c\u7f16\u8f91\u65b9\u5f0f\u201d,\u590d\u5236\u9700\u8981\u7684\u914d\u7f6e\u3002  2)\u70b9\u51fb\u9700\u8981\u590d\u5236\u5230\u7684dashboard\u6240\u5728\u884c\u7684\u7f16\u8f91\u6309\u94ae,\u70b9\u51fb\u201c\u6587\u672c\u7f16\u8f91\u65b9\u5f0f\u201d,\u5c06\u521a\u624d\u590d\u5236\u7684\u5185\u5bb9\u7c98\u8d34\u8fdb\u53bb\u3002  3)\u70b9\u51fb\u201c\u4fdd\u5b58\u201d,\u5373\u53ef\u770b\u5230\u590d\u5236\u597d\u7684\u914d\u7f6e\u3002"}]}, {"id": "identity_21", "conversation": [{"from": "user", "value": "\u90ae\u4ef6\u670d\u52a1\u5668\u914d\u7f6e\u540e,\u79bb\u7ebf\u62a5\u544a\u3001\u544a\u8b66\u7b49\u4e0d\u80fd\u6b63\u5e38\u4f7f\u7528\u90ae\u4ef6\u53d1\u9001\u3002"}, {"from": "assistant", "value": "\u53ef\u80fd\u5b58\u5728\u539f\u56e0\u5305\u62ec\u90ae\u4ef6\u670d\u52a1\u5668\u914d\u7f6e\u9519\u8bef,\u7f51\u7edc\u4e0d\u901a\u7b49\u3002\u68c0\u67e5\u6b65\u9aa4:  \u914d\u7f6e\u6b63\u786e\u7684SMTP\u90ae\u4ef6\u670d\u52a1\u5668\u5730\u5740\u3002\u5e38\u89c1\u670d\u52a1\u5668,  \u4f01\u4e1a\u5fae\u4fe1:  \u7aef\u53e3:25,465(SSL)  \u98de\u4e66:  \u7aef\u53e3:25,465(SSL)  \u7528\u6237\u540d\u5bc6\u7801\u9700\u6b63\u786e\u914d\u7f6e\u3002\u5bc6\u7801\u4e00\u822c\u5747\u4e3a\u6388\u6743\u7801,\u901a\u8fc7\u5bf9\u5e94\u90ae\u4ef6\u7ba1\u7406\u9875\u9762\u8fdb\u884c\u751f\u6210\u3002  \u68c0\u67e5\u7f51\u7edc\u662f\u5426\u901a\u7545\u3002\u9700\u8981\u80fdping\u901a\u5bf9\u5e94\u7684\u670d\u52a1\u5668,\u80fdtelnet\u5bf9\u5e94\u7684\u7aef\u53e3\u3002\u4f8b\u5982:  ping  telnet  465  10.\u5b58\u50a8\u4f7f\u7528\u76f8\u5173\u95ee\u9898  1\u3001ES\u9ed8\u8ba4\u914d\u7f6e\u4e8685%\u7684\u6c34\u4f4d\u7ebf,\u5982\u679cES\u6240\u5728\u78c1\u76d8\u6587\u4ef6\u7cfb\u7edf\u4f7f\u7528\u7387(\u53ef\u4ee5\u901a\u8fc7df -Th\u67e5\u770b)\u8d85\u8fc785%,\u5219\u4f1a\u5bfc\u81f4ES\u9501\u4f4f,\u53ea\u80fd\u8bfb\u4e0d\u80fd\u5199\u3002"}]}, {"id": "identity_22", "conversation": [{"from": "user", "value": "\u5982\u679c\u6587\u4ef6\u7cfb\u7edf\u4f7f\u7528\u7387\u5feb\u523085%\u4e86,\u600e\u4e48\u529e?"}, {"from": "assistant", "value": "\u6709\u4ee5\u4e0b\u51e0\u79cd\u89e3\u51b3\u65b9\u6cd5:  \u8054\u7cfb\u5ba2\u6237\u8fdb\u884c\u78c1\u76d8\u6269\u5bb9  \u5bf9\u5386\u53f2\u6587\u4ef6\u8fdb\u884c\u6e05\u7406\u3002  \u65e5\u5fd7\u6587\u4ef6:$ARCANA_PATH/logs\u4e0b\u7684\u538b\u7f29\u6587\u4ef6\u4e0e\u65e5\u5fd7\u6587\u4ef6\u3002\u5efa\u8bae\u81f3\u5c11\u4fdd\u7559\u6700\u8fd13\u5929\u7684\u65e5\u5fd7,\u4f9b\u540e\u7eed\u95ee\u9898\u6392\u67e5\u3002  \u5386\u53f2\u5b89\u88c5\u6587\u4ef6:\u5386\u53f2\u5347\u7ea7\u5b89\u88c5\u6587\u4ef6\u53ef\u4ee5\u8fc1\u79fb\u8d70,\u4e5f\u53ef\u4ee5\u5220\u9664\u3002\u6309\u5b9e\u9645\u60c5\u51b5\u800c\u5b9a\u3002  \u7f29\u77edkafka\u6570\u636e\u8fc7\u671f\u65f6\u6548\u3002  $ARCANA_PATH/conf/kafka.properties \u6587\u4ef6\u4e0b \u7f29\u77edlog.retention.hours\u7684\u503c\u3002\u6bd4\u5982\u539f\u6765\u662f72,\u53ef\u4ee5\u6539\u621024\u3002\u8868\u793akafka\u5185\u7684\u6570\u636e\u53ea\u4fdd\u755924\u5c0f\u65f6\u3002  $ARCANA_Edge_PATH/conf/kafka.properties \u6587\u4ef6\u4e0b \u7f29\u77edlog.retention.hours\u7684\u503c\u3002  \u5728\u4e0e\u5ba2\u6237\u786e\u8ba4\u540e,\u5220\u9664\u5386\u53f2\u7d22\u5f15\u6570\u636e\u3002  \u6b63\u5e38\u60c5\u51b5\u4e0b,\u901a\u8fc7\u8bbe\u7f6e\u7d22\u5f15\u7ba1\u7406\u91cc\u7684\u8fc7\u671f\u65f6\u95f4,\u8ba9\u7cfb\u7edf\u5728\u665a\u4e0a\u81ea\u52a8\u6e05\u7406\u3002  \u3010\u614e\u7528\u3011\u7d27\u6025\u60c5\u51b5\u4e0b,\u53ef\u4ee5\u76f4\u63a5\u5220\u9664\u5386\u53f2\u7d22\u5f15\u6587\u4ef6\u3002\u6ce8:\u6b64\u65b9\u6cd5\u4f1a\u76f4\u63a5\u5220\u9664\u5355\u4e2a\u7d22\u5f15\u5386\u53f2\u6587\u4ef6,\u4e0d\u80fd\u63a7\u5236\u65f6\u95f4;\u4e00\u5b9a\u4e0d\u80fd\u5220\u9664\u6700\u540e\u4e00\u4e2a\u5206\u7247\u3002  \u64cd\u4f5c\u6b65\u9aa4:  \u5148\u67e5\u8be2\u5206\u7247\u5177\u4f53\u540d\u5b57  curl  \u9488\u5bf9\u6709\u591a\u4e2a\u5206\u7247\u7684\u7d22\u5f15\u6570\u636e,\u5220\u9664\u5386\u53f2\u5206\u7247\u3002\u6bd4\u5982\u4e0a\u8ff0\u547d\u4ee4\u53ef\u4ee5\u770b\u5230winlog_01\u67093\u4e2a\u5206\u7247dm-winlog_01-000001,dm-winlog_01-000002,dm-winlog_01-000003,\u53ef\u4ee5\u8003\u8651\u5c06\u7b2c\u4e00\u4e2a\u5206\u7247\u8fdb\u884c\u5220\u9664:curl -XDELETE  11.\u901a\u7528\u914d\u7f6e"}]}, {"id": "identity_23", "conversation": [{"from": "user", "value": "\u5982\u4f55\u9690\u85cf\u7528\u6237?"}, {"from": "assistant", "value": "\u5728ARCANA\u7248\u672c\u4e3a3.1.1\u53ca\u4ee5\u4e0a\u7248\u672c\u4e2d\u505a\u5982\u4e0b\u64cd\u4f5c  \u4ee5root\u7528\u6237\u767b\u5f55ARCANA\u6240\u5728\u7684\u670d\u52a1\u5668\u3002  \u521b\u5efa/opt/arcana/share/tomcat/webapps/system/local/ROOT\u76ee\u5f55\u3002  \u5c06custom.css\u6587\u4ef6\u4e0a\u4f20\u81f3/opt/arcana/share/tomcat/webapps/system/local/ROOT\u76ee\u5f55\u4e0b\u3002  \u8bf4\u660e:custom.css\u6587\u4ef6\u7684\u83b7\u53d6\u65b9\u5f0f\u8bf7\u8054\u7cfb\u5185\u90e8\u5de5\u4f5c\u4eba\u5458\u3002  \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4,\u91cd\u542fARCANA\u3002  cd /opt/arcana/bin  su - arcana    //ES\u573a\u666f\u4e0b\u9700\u8981\u5207\u6362\u81f3arcana\u7528\u6237\u6267\u884c\u3002  ./arcana restart"}]}, {"id": "identity_24", "conversation": [{"from": "user", "value": "\u5982\u4f55\u914d\u7f6e\u6b63\u5219\u6587\u4ef6\u89e3\u6790\u89c4\u5219"}, {"from": "assistant", "value": "\u5f53\u4f7f\u7528\u5185\u7f6e\u89e3\u6790\u5f15\u64ceArcanaRegexModel\u65f6,\u9700\u8981\u624b\u52a8\u5c06\u89e3\u6790\u89c4\u5219\u4e0a\u4f20\u3002  \u4f7f\u7528root\u7528\u6237\u767b\u5f55ARCANA\u540e\u53f0,\u8fdb\u5165/opt/arcana/etc/transform\u76ee\u5f55\u4e0b\u3002  cd /opt/arcana/etc/transform  \u8bf4\u660e:/opt/arcana\u4e3aARCANA\u7684\u5b89\u88c5\u76ee\u5f55,\u8bf7\u6839\u636e\u5b9e\u9645\u90e8\u7f72\u73af\u5883\u3002  \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4,\u521b\u5efa\u6587\u4ef6\u3002\u6587\u4ef6\u540d\u8bf7\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u914d\u7f6e,\u8fd9\u8fb9\u4ee5regex.conf\u4e3a\u4f8b\u3002  touch regex.conf  \u6267\u884c\u4ee5\u4e0b\u547d\u4ee4,\u5728\u6587\u4ef6\u4e2d\u5b58\u5165regex\u89c4\u5219\u3002  vim regex.conf  [log]  EXTRACT-fields =\\[(?<DATE>[^]+)\\s+(?<TIME>[^]+)\\)](?<user>.+)\u8bbf\u95ee\u670d\u52a1IP\\:(?<ip>\\d+\\.\\d+\\.\\d+\\.\\d+)  EVAL-_time =DATE+\"\"+TIME  EVAL-_time =string_to_date(_time,'yyyy-MM-DD HH:mm:ss')  EVAL-DATE=nil  EVAL-DATE=nil  \u914d\u7f6e\u5b8c\u6210\u540e,\u767b\u5f55192.168.241.145:7088/arcana-api/debug/refresh(\u5355\u72ec\u7684\u6b63\u5219\u63a5\u53e3)\u3002  192.168.241.145\u4e3a\u5b89\u88c5arcana\u7684\u670d\u52a1\u5668IP,\u8bf7\u6839\u636e\u5b9e\u9645\u4fee\u6539\u3002  \u9875\u9762\u663e\u793a\u5982\u4e0b\u6240\u793a,\u8bf4\u660e\u89c4\u5219\u4e0a\u4f20\u6210\u529f:    arcana\u914d\u7f6e\u6536\u6570\u5b9e\u4f8b---\u65e5\u5fd7\u6587\u4ef6,\u6307\u5b9a\u6587\u4ef6\u8def\u5f84\u5e76\u4e14\u6765\u6e90\u6807\u7b7e\u5fc5\u987b\u662f:xxx.log\u3002  xxx\u662fconf\u6587\u4ef6\u7684\u540d\u79f0,log\u662f\u89e3\u6790\u89c4\u5219\u7684[log]\u5f00\u5934\u6807\u7b7e\u3002      "}]}, {"id": "identity_25", "conversation": [{"from": "user", "value": "\u5982\u4f55\u4fee\u6539\u65e5\u5fd7\u4fdd\u7559\u5929\u6570"}, {"from": "assistant", "value": "1)\u4fee\u6539ARCANA\u7aef  vim /opt/arcana/conf/kafka.properties  log.retention.hours=168  2)\u4fee\u6539ARCANA Edge\u7aef  vim /opt/arcana/conf/kafka.properties  log.retention.hours=168"}]}, {"id": "identity_26", "conversation": [{"from": "user", "value": "\u5982\u4f55\u914d\u7f6eKafKa SSL\u8ba4\u8bc1\u3002"}, {"from": "assistant", "value": "\u751f\u6210\u52a0\u5bc6\u8bc1\u4e66  \u5728/etc/hosts\u6587\u4ef6\u4e2d\u81ea\u5b9a\u4e49\u4e00\u4e2ahosts\u540d\u3002  \u8bf4\u660e:kafka2.0.x\u5f00\u59cb,\u5c06ssl.endpoint.identification.algorithm\u9ed8\u8ba4\u8bbe\u7f6e\u4e3aHTTPS,\u5373:\u9700\u8981\u9a8c\u8bc1\u4e3b\u673a\u540d,\u6240\u4ee5\u6211\u4eec\u8fd9\u91cc\u53ef\u4ee5\u5148\u914d\u7f6e\u4e00\u4e2a\u4e3b\u673a\u540d\u3002 \u8ffd\u6ce8:\u4e0d\u8bba\u662f\u5426\u9700\u8981\u4e3b\u673a\u540d\u9a8c\u8bc1,\u90fd\u63a8\u8350\u914d\u7f6e\u4e00\u4e0bhosts\u3002  \u521b\u5efa\u8bc1\u4e66\u4fdd\u5b58\u76ee\u5f55\u3002  mkdir -p /usr/ca/{root,server,client,trust}  /usr/ca/\u4e3a\u8bc1\u4e66\u5b58\u653e\u8def\u5f84,\u8bf7\u6839\u636e\u5b9e\u9645\u9700\u8981\u914d\u7f6e\u3002  \u751f\u6210server.keystore.jks\u6587\u4ef6(\u5373\u751f\u6210\u670d\u52a1\u7aef\u7684keystore\u6587\u4ef6)\u3002  keytool -keystore /usr/ca/server/server.keystore.jks -alias ds-kafka-single -validity 365 -genkey -keypass DiMatrix -keyalg RSA -dname \"CN=kafka-single,OU=aspire,O=aspire,L=beijing,S=beijing,C=cn\" -storepass DiMatrix -ext SAN=DNS:kafka-single  \u8bf4\u660e:\u52a0\u7c97\u5b57\u4f53\u5206\u522b\u4e3a\u8bc1\u4e66\u5730\u5740,\u6307\u5b9a\u522b\u540d\u6761\u76ee\u7684\u5bc6\u7801,hosts\u914d\u7f6e\u7684\u4e3b\u673a\u540d,\u6307\u5b9a\u5bc6\u94a5\u5e93\u7684\u5bc6\u7801,hosts\u914d\u7f6e\u7684\u4e3b\u673a\u540d\u3002  keytool\u76f8\u5173\u6307\u4ee4\u8bf4\u660e:  \u751f\u6210CA\u8ba4\u8bc1\u8bc1\u4e66(\u4e3a\u4e86\u4fdd\u8bc1\u6574\u4e2a\u8bc1\u4e66\u7684\u5b89\u5168\u6027,\u9700\u8981\u4f7f\u7528CA\u8fdb\u884c\u8bc1\u4e66\u7684\u7b7e\u540d\u4fdd\u8bc1)\u3002  \u5229\u7528Linux\u81ea\u5e26\u7684OpenSSL\u521b\u5efa\u5373\u53ef\u3002  openssl req -new -x509 -keyout /usr/ca/root/ca-key -out /usr/ca/root/ca-cert -days 365 -passout pass:DiMatrix -subj \"/C=cn/ST=beijing/L=beijing/O=aspire/OU=aspire/CN=kafka-single\"  \u901a\u8fc7CA\u8bc1\u4e66\u521b\u5efa\u4e00\u4e2a\u5ba2\u6237\u7aef\u4fe1\u4efb\u8bc1\u4e66\u3002  keytool -keystore /usr/ca/trust/client.truststore.jks -alias CARoot -import -file /usr/ca/root/ca-cert -storepass DiMatrix  \u901a\u8fc7CA\u8bc1\u4e66\u521b\u5efa\u4e00\u4e2a\u670d\u52a1\u7aef\u5668\u7aef\u4fe1\u4efb\u8bc1\u4e66\u3002  keytool -keystore /usr/ca/trust/server.truststore.jks -alias CARoot -import -file /usr/ca/root/ca-cert -storepass DiMatrix  \u670d\u52a1\u5668\u8bc1\u4e66\u7684\u7b7e\u540d\u5904\u7406\u3002  \u5bfc\u51fa\u670d\u52a1\u5668\u7aef\u8bc1\u4e66server.cert-file\u3002  keytool -keystore /usr/ca/server/server.keystore.jks -alias ds-kafka-single -certreq -file /usr/ca/server/server.cert-file -storepass DiMatrix  \u7528CA\u7ed9\u670d\u52a1\u5668\u7aef\u8bc1\u4e66\u8fdb\u884c\u7b7e\u540d\u5904\u7406\u3002  openssl x509 -req -CA /usr/ca/root/ca-cert -CAkey /usr/ca/root/ca-key -in /usr/ca/server/server.cert-file -out /usr/ca/server/server.cert-signed -days 365 -CAcreateserial -passin pass:DiMatrix  \u5c06CA\u8bc1\u4e66\u5bfc\u5165\u5230\u670d\u52a1\u5668\u7aefkeystore\u3002  keytool -keystore /usr/ca/server/server.keystore.jks -alias CARoot -import -file /usr/ca/root/ca-cert -storepass DiMatrix  \u5c06\u5df2\u7b7e\u540d\u7684\u670d\u52a1\u5668\u8bc1\u4e66\u5bfc\u5165\u5230\u670d\u52a1\u5668keystore\u3002  keytool -keystore /usr/ca/server/server.keystore.jks -alias ds-kafka-single -import -file /usr/ca/server/server.cert-signed -storepass DiMatrix  \u53c2\u8003 https://blog.csdn.net/justry_deng/article/details/88383081  Kafka\u670d\u52a1\u914d\u7f6e  \u4fee\u6539kafka\u5b89\u88c5\u76ee\u5f55\u4e0bconfig\u76ee\u5f55\u4e0b\u7684server.properties\u6587\u4ef6\u3002  ####################### Server Basics #############################  # SSL\u8ba4\u8bc1\u914d\u7f6e  # \u5982\u679c\u914d\u7f6e\u4e86SSL\u8ba4\u8bc1,\u90a3\u4e48\u539f\u6765\u7684port\u548cadvertised.listeners\u53ef\u4ee5\u6ce8\u91ca\u6389\u4e86  #\u5982\u679cbroker\u4e4b\u95f4\u901a\u8baf\u672a\u542f\u7528SSL listeners=PLAINTEXT://host.name:port,SSL://host.name:port  #PLAINTEXT\u548cSSL\u7aef\u53e3\u662f\u5fc5\u987b\u8981\u914d\u7f6e\u3002  listeners=SSL://kafka-single:9095  advertised.listeners=SSL://kafka-single:9095  ssl.key.password=ds1994  ssl.keystore.type=JKS  ssl.keystore.location=/usr/ca/server/server.keystore.jks  ssl.keystore.password=ds1994  ssl.truststore.type=JKS  ssl.truststore.location=/usr/ca/trust/server.truststore.jks  ssl.truststore.password=ds1994  #\u201crequired\u201d=>\u5ba2\u6237\u7aef\u8eab\u4efd\u9a8c\u8bc1\u662f\u5fc5\u9700\u7684,\u201crequested\u201d=>\u5ba2\u6237\u7aef\u8eab\u4efd\u9a8c\u8bc1\u8bf7\u6c42,\u5ba2\u6237\u7aef\u6ca1\u6709\u8bc1\u4e66\u4ecd\u7136\u53ef\u4ee5\u8fde\u63a5\u3002\u4f7f\u7528\u201crequested\u201d\u662f\u7eb8\u8001\u864e,\u56e0\u4e3a\u5b83\u63d0\u4f9b\u4e86\u4e00\u79cd\u865a\u5047\u7684\u5b89\u5168\u611f,\u9519\u8bef\u7684\u914d\u7f6e\u5ba2\u6237\u7aef\u4ecd\u5c06\u8fde\u63a5\u6210\u529f\u3002  #\u5982\u679c\u5f00\u542f\u5ba2\u6237\u7aef\u8eab\u4efd\u9a8c\u8bc1,\u5219\u5ba2\u6237\u7aef\u5fc5\u987b\u914d\u7f6ekeystore  #ssl.client.auth=required  ssl.client.auth=none  ssl.enabled.protocols=TLSv1.2,TLSv1.1,TLSv1  # kafka2.0.x\u5f00\u59cb,\u5c06ssl.endpoint.identification.algorithm\u8bbe\u7f6e\u4e3a\u4e86HTTPS,\u5373:\u9700\u8981\u9a8c\u8bc1\u4e3b\u673a\u540d  # \u5982\u679c\u4e0d\u9700\u8981\u9a8c\u8bc1\u4e3b\u673a\u540d,\u90a3\u4e48\u53ef\u4ee5\u8fd9\u4e48\u8bbe\u7f6e ssl.endpoint.identification.algorithm=\u5373\u53ef  #ssl.endpoint.identification.algorithm=HTTPS  ssl.endpoint.identification.algorithm=  # \u8bbe\u7f6e\u5185\u90e8\u8bbf\u95ee\u4e5f\u7528SSL,\u9ed8\u8ba4\u503c\u4e3asecurity.inter.broker.protocol=PLAINTEXT  security.inter.broker.protocol=SSL  #security.inter.broker.protocol=PLAINTEXT  \u6ce8:\u5982\u679c\u8bbe\u7f6e\u7684\u5185\u90e8broker\u7684\u901a\u8baf\u534f\u8baePLAINTEXT,\u90a3\u4e48\u76d1\u542cPLAINTEXT\u7684\u65f6\u5019\u5c31\u9700\u8981\u4f5c\u76f8\u5e94\u7684\u914d\u7f6e listeners=PLAINTEXT://host.name:port,SSL://host.name:port\u3002  \u91cd\u542fKafka  # \u524d\u53f0\u542f\u52a8kafka  bin/kafka-server-start.sh config/server.properties  \u4f7f\u7528Linux\u81ea\u5e26\u7684openssl\u6d4b\u8bd5\u4e00\u4e0b,\u9a8c\u8bc1\u6211\u4eec\u914d\u7f6e\u7684ssl\u6709\u6548  openssl s_client -debug -connect kafka  "}]}, {"id": "identity_27", "conversation": [{"from": "user", "value": "\u5982\u4f55\u914d\u7f6eBeats\u76f8\u5173\u8bc1\u4e66"}, {"from": "assistant", "value": "\u4e3a\u4e86\u4fdd\u8bc1\u5e94\u7528\u65e5\u5fd7\u6570\u636e\u7684\u4f20\u8f93\u5b89\u5168,\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528SSL\u76f8\u4e92\u8eab\u4efd\u9a8c\u8bc1\u6765\u4fdd\u62a4Filebeat\u548cLogstash\u4e4b\u95f4\u7684\u8fde\u63a5\u3002 \u8fd9\u53ef\u4ee5\u786e\u4fddFilebeat\u4ec5\u5c06\u52a0\u5bc6\u6570\u636e\u53d1\u9001\u5230\u53d7\u4fe1\u4efb\u7684Logstash\u670d\u52a1\u5668,\u5e76\u786e\u4fddLogstash\u670d\u52a1\u5668\u4ec5\u4ece\u53d7\u4fe1\u4efb\u7684Filebeat\u5ba2\u6237\u7aef\u63a5\u6536\u6570\u636e\u3002 \u4e0b\u9762\u5c31\u8bb2\u8ff0\u4e00\u4e0b\u914d\u7f6eFilebeat\u4e0eLogstash\u4e4b\u95f4\u8fdb\u884c\u52a0\u5bc6\u901a\u4fe1\u7684\u65b9\u6cd5\u3002\u5168\u6587\u662f\u5728CentOS7\u4e0a\u57fa\u4e8eElastic 7.5.0\u6280\u672f\u6808\u6240\u9a8c\u8bc1\u7684\u3002  \u9700\u8981\u4e00\u4e2a\u81ea\u7b7e\u7684CA\u8bc1\u4e66,\u4ee5\u53ca\u4f7f\u7528\u8be5CA\u8bc1\u4e66\u7b7e\u7f72\u7684\u4e24\u4efd\u6570\u636e\u8bc1\u4e66\u3002\u4e00\u4efd\u662f\u7ed9Logstash\u4f5c\u4e3aserver\u7aef\u9a8c\u8bc1\u81ea\u5df1\u8eab\u4efd\u65f6\u4f7f\u7528,\u4e00\u4efd\u662f\u63d0\u4f9b\u7ed9Filebeat\u5ba2\u6237\u7aef\u9a8c\u8bc1\u81ea\u5df1\u8eab\u4efd\u4f7f\u7528\u3002 \u76f4\u63a5\u5229\u7528\u7684Elasticsearch\u968f\u5b89\u88c5\u5305\u63d0\u4f9b\u7684\u6570\u5b57\u8bc1\u4e66\u5de5\u5177elasticsearch-certutil\u6765\u5236\u4f5c\u9700\u8981\u7684\u8bc1\u4e66\u3002  \u5b98\u65b9\u5730\u5740:  https://www.elastic.co/guide/en/elasticsearch/reference/7.5/certutil.html  \u5236\u4f5c\u81ea\u7b7e\u7684CA\u8bc1\u4e66  \u5728Linux\u4e0b,\u8fdb\u5165\u5230Elasticsearch\u7a0b\u5e8f\u7684\u90e8\u7f72\u5bb6\u76ee\u5f55\u4e2d,\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u53ef\u4ee5\u751f\u6210\u4e00\u4efd\u81ea\u7b7e\u7684CA\u8bc1\u4e66:  ./bin/elasticsearch-certutil ca  \u4f7f\u7528\u9ed8\u8ba4\u8f93\u51fa\u6587\u4ef6\u540delastic-stack-ca.p12,\u5e76\u4e3a\u8bc1\u4e66\u8bbe\u7f6e\u8bbf\u95ee\u53e3\u4ee4\u3002  \u6839\u636e\u8bc1\u4e66\u6587\u4ef6\u5bfc\u51fa\u4e00\u4efdCA\u516c\u94a5\u6587\u4ef6,\u7528\u4e8e\u540e\u7eed\u5404\u5e94\u7528\u914d\u7f6e\u6587\u4ef6\u4e2d\u5f15\u7528CA\u516c\u94a5\u65f6\u4f7f\u7528:  openssl pkcs12 -clcerts -nokeys -in elastic-stack-ca.p12 -out ca.pem  \u6216  .bin/elasticsearch-certutil cert --ca elastic-stack-ca.p12 # elastic-certificates.p12 openssl pkcs12 -in elastic-certificates.p12 -cacerts -nokeys -out out ca.pem  \u5236\u4f5cLogstash\u4f7f\u7528\u7684\u6570\u5b57\u8bc1\u4e66  Logstash\u670d\u52a1\u5728\u542f\u7528SSL\u52a0\u5bc6\u901a\u4fe1\u652f\u6301\u65f6,\u4f1a\u6709\u4e00\u4e2a\u7279\u6b8a\u7684\u95ee\u9898\u3002\u56e0\u4e3aLogstash\u5728\u5e95\u5c42\u662f\u901a\u8fc7\u96c6\u6210\u4e86Netty\u6765\u63d0\u4f9b\u7684\u5bf9\u5916\u670d\u52a1\u7aef\u53e3,\u800cNetty\u5728\u652f\u6301\u6570\u5b57\u8bc1\u4e66\u8fd9\u4e00\u529f\u80fd\u4e0a\u9762,\u6709\u4e00\u4e2a\u5c40\u9650\u6027,\u5373Netty\u4ec5\u652f\u6301\u4f7f\u7528PKCS#8\u7684\u5bc6\u94a5\u683c\u5f0f\u3002  \u4f7f\u7528openssl\u8f6c\u6362\u51fa\u4e00\u4efdPKCS#8\u683c\u5f0f\u7684\u5bc6\u94a5\u6587\u4ef6,\u5373logstash.p8\u3002  openssl pkcs8 -in logstash.key -topk8 -nocrypt -out logstash.p8  \u751f\u6210logstash\u6570\u5b57\u8bc1\u4e66\u3002  ./bin/elasticsearch-certutil cert --ca elastic-stack-ca.p12 --name logstash --dns logstash --ip 192.168.1.235 --pem --out logstash.zip  \u89e3\u538blogstash\u7684\u8bc1\u4e66\u81f3logstash\u7684\u5b89\u88c5\u8def\u5f84\u4e0b\u6216\u653e\u81f3\u7edf\u4e00\u8bc1\u4e66\u8def\u5f84,\u5982/etc/certificate/logstash\u4e0b\u3002  unzip -n logstash.zip -d /etc/certificate/logstash  \u5236\u4f5cFilebeats\u4f7f\u7528\u7684\u6570\u5b57\u8bc1\u4e66  ./bin/elasticsearch-certutil cert --ca elastic-stack-ca.p12 --name filebeat --dns filebeat --ip 192.168.75.20 --pem --out filebeat.zip unzip filebeat.zip  \u89e3\u538bfilebeat\u7684\u8bc1\u4e66\u81f3filebeat\u7684\u5b89\u88c5\u8def\u5f84\u4e0b\u6216\u653e\u81f3\u7edf\u4e00\u7684\u8bc1\u4e66\u8def\u5f84,\u5982/etc/certificate/filebeat\u4e0b  <!--#\u89e3\u538b\u540e\u4f1a\u5404\u6709\u4e00\u4e2a.key\u548c.crt\u540e\u7f00\u7684\u6587\u4ef6-->  unzip  -n  filebeat.zip  -d /etc/certificate/filebeat  Beats\u914d\u7f6eSSL  filebeat.yml\u6587\u4ef6\u914d\u7f6eoutput,\u5982  output.logstash:  hosts: [\"192.168.1.235:5000\"]  ssl.certificate_authorities: [\"/etc/certificate/ca.pem\"]  ssl.certificate: [\"/etc/certificate/filebeat.crt\"]  ssl.key: [\"/etc/certificate/filebeat.key\"]  logstash\u914d\u7f6e\u63a5\u6536filebeat\u63a5\u6536\u65e5\u5fd7\u65f6\u4f7f\u7528SSL  input {  beats {  ssl => true  ssl_key => \"/etc/certificate/logstash/logstash.p8\"  ssl_certificate => \"/etc/certificate/logstash/logstash.crt\"  ssl_verify_mode => \"force_peer\"  ssl_certificate_authorities => [\"/etc/certificate/logstash/ca.pem\"]  port => \"9000\"  add_field => {  \"[fields][forward_server]\" => \"localhost:9092\"  \"[fields][forward_type]\" => \"arcana\"  \"[fields][edge_id]\" => \"607d3730084b1b633115c518\"  \"[fields][store_name]\" => \"beat-ssl\"  \"[fields][source]\" => \"datasource\"  \"[fields][type]\" => \"beats\"  }  }  }      12.\u79bb\u7ebf\u62a5\u544a\u76f8\u5173"}]}, {"id": "identity_28", "conversation": [{"from": "user", "value": "\u6a21\u677f\u4e2d\u8868\u683c\u4e2d\u7684\u6b63\u6587\u6587\u5b57\u6bb5\u843d\u672a\u7f29\u8fdb,\u751f\u6210\u7684\u62a5\u544a\u5374\u663e\u793a\u9996\u884c\u7f29\u8fdb,\u5bfc\u81f4\u62a5\u544a\u6392\u7248\u51fa\u73b0\u95ee\u9898;"}, {"from": "assistant", "value": "WPS\u4e0eword\u4e0d\u5b8c\u5168\u517c\u5bb9,\u82e5\u4f7f\u7528WPS\u7f16\u8f91\u6a21\u677f\u6216\u4ece\u522b\u7684WPS\u6587\u6863\u4e2d\u590d\u5236\u5185\u5bb9\u653eA\u5165word\u6a21\u677f,\u4f1a\u5bfc\u81f4\u751f\u6210\u7684\u62a5\u544a\u683c\u5f0f\u51fa\u73b0\u95ee\u9898\u3002\u5efa\u8bae\u7981\u6b62\u4f7f\u7528WPS\u6253\u5f00/\u7f16\u8f91,\u7981\u6b62\u4eceWPS\u6587\u6863\u4e2d\u590d\u5236\u5185\u5bb9\u7c98\u8d34\u5165Word;"}]}, {"id": "identity_29", "conversation": [{"from": "user", "value": "word\u6a21\u677f\u6392\u7248\u4e0d\u89c4\u8303"}, {"from": "assistant", "value": "\u73b0\u8c61:  \u67d0\u4e2a\u8868\u683c\u4e00\u884c\u5360\u4e86\u597d\u51e0\u9875,\u4ed4\u7ec6\u6392\u67e5\u53d1\u73b0\u5355\u5143\u683c\u5185\u67d0\u4e2a\u6587\u5b57\u5b57\u4f53\u5927\u5c0f\u8fbe\u5230\u4e863000\u591a\u5b57\u53f7\u5927\u5c0f;  \u751f\u6210\u7684\u62a5\u544a\u4e2d\u51fa\u73b0\u7a7a\u767d\u9875,\u68c0\u67e5\u53d1\u73b0\u662f\u4e0b\u7ae0\u8282\u6709\u6bb5\u524d\u5206\u9875;  \u8868\u683c\u6392\u7248\u9519\u4e71\u6709\u7684\u5355\u5143\u683c\u4f1a\u6587\u5b57\u7f29\u8fdb,\u6709\u7684\u6ca1\u6709,\u5b57\u4f53\u4e0d\u7edf\u4e00;  \u8868\u683c\u9875\u7801\u9519\u4e71  \u5efa\u8bae:  \u89c4\u8303\u6392\u7248,\u5c3d\u91cf\u4f7f\u7528\u6a21\u677f\u8fdb\u884c\u590d\u5236\u4fee\u6539;  \u591a\u5237\u683c\u5f0f,\u4fdd\u6301\u6240\u6709\u8868\u683c\u3001\u6807\u9898\u3001\u6b63\u6587\u683c\u5f0f\u4e00\u81f4;  \u6bb5\u524d\u4e0d\u5206\u9875\u3001\u65ad\u540e\u4e0d\u5206\u9875;  \u8868\u683c\u6216\u56fe\u7247\u4e0d\u8d85\u8fc7\u9875\u8fb9\u8ddd;"}]}, {"id": "identity_30", "conversation": [{"from": "user", "value": "\u91cd\u540d\u6587\u4ef6\u4e0a\u4f20\u4e0d\u751f\u6548,\u4e0a\u4f20\u4e0e\u5386\u53f2\u6587\u4ef6\u540c\u540d\u7684\u65b0\u62a5\u544a\u6a21\u677f,\u53d1\u73b0\u751f\u6210\u7684\u62a5\u544a\u5185\u5bb9\u5e76\u4e0d\u662f\u65b0\u62a5\u544a\u6a21\u677f\u7684\u5185\u5bb9;"}, {"from": "assistant", "value": "\u5efa\u8bae:\u4e0a\u4f20\u62a5\u544a\u6a21\u677f\u6587\u4ef6\u540d\u987b\u6709\u547d\u540d\u89c4\u8303\u8fdb\u884c\u533a\u5206,\u5982\u6587\u4ef6\u540d\u540e\u52a0\u4e0a-\u65e5\u671f\u7b49;"}]}]